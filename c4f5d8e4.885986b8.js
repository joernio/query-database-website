(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=(t(79),t(109)),c=(t(87),t(22)),s=(t(88),t(74),t(75),t(172));function i(e){var a=e.highlightedCode;e.language;return r.a.createElement("div",{className:"code"},r.a.createElement("pre",null,r.a.createElement("code",null,Object(s.a)(a))))}var u=t(116),m=t(227),o=t(228),g=t(231),d=t(219),E=t(225),h=t(235),f=t(226),v=t(236),p=t(233),b=t(168),O=Object(d.a)((function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3),width:"100%"}}})),j=function(e){var a=e.filters,t=e.onChange,n={language:a.language.reduce((function(e,a){var t;return Object.assign({},e,((t={})[a]=!1,t))}),{}),tags:a.tags.reduce((function(e,a){var t;return Object.assign({},e,((t={})[a]=!1,t))}),{})},l=O(),c=r.a.useState(n),s=c[0],i=c[1],u=s.tags,m=s.language,o=function(e){var a,n={language:s.language,tags:Object.assign({},s.tags,(a={},a[e.target.name]=e.target.checked,a))};t(n),i(n)},g=function(e){var a,n={tags:s.tags,language:Object.assign({},s.language,(a={},a[e.target.name]=e.target.checked,a))};t(n),i(n)};return r.a.createElement("div",null,r.a.createElement(h.a,{component:"fieldset",className:l.formControl},r.a.createElement(E.a,{component:"legend"},r.a.createElement("h3",null,"Language")),r.a.createElement(f.a,null,Object.entries(n.language).map((function(e){return r.a.createElement(v.a,{key:e[0],control:r.a.createElement(p.a,{checked:m[e[0]],onChange:g,name:e[0]}),label:e[0]})})))),r.a.createElement(h.a,{component:"fieldset",className:l.formControl},r.a.createElement(E.a,{component:"legend"},r.a.createElement("h3",null,"Tags")),r.a.createElement(f.a,null,Object.entries(n.tags).map((function(e){return r.a.createElement(v.a,{key:e[0],control:r.a.createElement(p.a,{checked:u[e[0]],onChange:o,name:e[0]}),label:e[0]})})))))},y=function(e){var a=e.textAreaId,t="COPY TO CLIPBOARD",l=Object(n.useState)(t),c=l[0],s=l[1];return r.a.createElement("div",null,r.a.createElement(m.a,{variant:"contained",color:"primary",className:"search-result-copy",onClick:function(e){return n=a,(r=document.querySelector("#"+n)).classList.remove("hidden"),r.select(),document.execCommand("copy"),s("COPIED!"),r.classList.add("hidden"),void setTimeout((function(){s(t)}),1e3);var n,r}},c))},N=function(e){var a=e.results.map((function(e){return r.a.createElement(o.a,{className:"main-card mdc-elevation--z10",key:e.name},r.a.createElement("div",{className:"search-result"},r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement("span",{className:"search-result-name"},e.name))),r.a.createElement("div",null,r.a.createElement("h4",null,e.title),r.a.createElement("p",null,e.description),"CPGQL Query:",r.a.createElement(i,{language:"js",highlightedCode:e.highlightedTraversal,queryName:e.name}),r.a.createElement("textarea",{readOnly:!0,className:"hidden",value:e.formattedTraversal,id:e.name})),r.a.createElement("div",null,r.a.createElement("span",{className:"search-result-author"},"author: ",e.author)),r.a.createElement("div",null,r.a.createElement("span",{className:"search-result-tags"},"tags: ",e.tags.join(","))),r.a.createElement(y,{textAreaId:e.name})))}));return r.a.createElement("div",null,a)},k=function(){var e=Object(u.usePluginData)("staticcode"),a=b(e.qdb,{sortings:{name_asc:{field:"name",order:"asc"}},aggregations:{tags:{title:"Tags",size:20,conjunction:!1},language:{title:"Language",size:20,conjunction:!1}},searchableFields:["name","title","description","tags"]}),t=a.search({per_page:100,sort:"name_asc"}).data,l=t.aggregations,c={language:l.language.buckets.map((function(e){return e.key})),tags:l.tags.buckets.map((function(e){return e.key}))},s=Object(n.useState)({results:t.items}),i=s[0],m=s[1],o=Object(n.useState)({language:[],tags:[]}),d=o[0],E=o[1],h=Object(n.useState)(""),f=h[0],v=h[1],p=function(e,t){var n={per_page:100,sort:"name_asc",filters:t};void 0!==e&&e.length>0&&(n.query=e);var r=a.search(n);m({results:r.data.items})};return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("div",{className:"filler"}),r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search-facets"},r.a.createElement(j,{filters:c,onChange:function(e){var a={tags:Object.keys(e.tags).filter((function(a){return e.tags[a]})),language:Object.keys(e.language).filter((function(a){return e.language[a]}))};E(a),p(f,a)}})),r.a.createElement("div",{className:"search-input"},r.a.createElement("div",{className:"search-field"},r.a.createElement(g.a,{id:"standard-basic",label:"Search for queries...",variant:"outlined",margin:"normal",fullWidth:!0,color:"primary",onChange:function(e){var a=e.target.value.slice(0);p(a,d),v(a)}})),r.a.createElement("div",{className:"search-results"},r.a.createElement(N,{results:i.results})))))},C=t(191),w=t(230),S=Object(C.a)({palette:{type:"dark",primary:{main:"#4ec001"},secondary:{main:"#4ec001"}}});a.default=function(){var e=Object(c.default)().siteConfig,a=void 0===e?{}:e;return r.a.createElement(w.a,{theme:S},r.a.createElement(l.a,{title:""+a.title,description:"Joern Query Database"},r.a.createElement("main",null,r.a.createElement("section",{className:"search-section"},r.a.createElement(k,null)))))}}}]);