(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=(t(79),t(93)),c=(t(83),t(22)),s=(t(84),t(74),t(75),t(139)),i=t.n(s);function u(e){var a=e.code,t=e.language;return Object(n.useEffect)((function(){i.a.highlightAll()}),[]),r.a.createElement("div",{className:"code"},r.a.createElement("pre",null,r.a.createElement("code",{className:"language-"+t},a)))}var g=t(98),m=t(172),o=t(135),d=function(e){var a=e.name,t=e.label,n=e.isChecked,l=void 0!==n&&n,c=e.onChange;return r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:a,checked:l,onChange:c}),t))},v=function(e){var a=e.tags,t=e.onChange,l=e.title,c=e.prefix,s=Object(n.useState)(new Map),i=s[0],u=s[1],g=function(e){var a=e.target.name,n=e.target.checked,r=new Map(i);n?r.set(a,a.replace(c,"")):r.delete(a),u(r),t(r)},m=a.buckets.map((function(e){return r.a.createElement(d,{name:c+e.key,label:e.key+" - "+e.doc_count,isChecked:i.get(c+e.key),onChange:g})}));return r.a.createElement("div",null,r.a.createElement("div",null,l),m)},h=function(e){var a=e.textAreaId,t="COPY TO CLIPBOARD",l=Object(n.useState)(t),c=l[0],s=l[1];return r.a.createElement("div",null,r.a.createElement("button",{className:"search-result-copy",onClick:function(e){return n=a,(r=document.querySelector("#"+n)).classList.remove("hidden"),r.select(),document.execCommand("copy"),s("COPIED!"),r.classList.add("hidden"),void setTimeout((function(){s(t)}),1e3);var n,r}},c))},E=function(e){var a=function(e){var a=e.split("\n");a.shift();var t=a[0].match(/^\s*/)[0],n=new RegExp("^"+t,"g");return a.map((function(e){return e.replace(n,"")})).join("\n")},t=e.results.map((function(e){return r.a.createElement("div",{className:"search-result"},r.a.createElement("div",null,r.a.createElement("span",{className:"search-result-name"},e.name)),r.a.createElement("div",null,r.a.createElement("h4",null,e.title),r.a.createElement("p",null,e.description),"CPGQL Query:",r.a.createElement(u,{language:"js",code:a(e.traversalAsString),queryName:e.name}),r.a.createElement("textarea",{className:"hidden",value:"({"+a(e.traversalAsString)+"}).l",id:e.name})),r.a.createElement("div",null,r.a.createElement("span",{className:"search-result-author"},"author: ",e.author)),r.a.createElement("div",null,r.a.createElement("span",{className:"search-result-tags"},"tags: ",e.tags.join(","))),r.a.createElement(h,{textAreaId:e.name}))}));return r.a.createElement("div",null,t)},p=function(){var e=Object(g.usePluginData)("staticcode"),a=o(e.qdb,{sortings:{name_asc:{field:"name",order:"asc"}},aggregations:{tags:{title:"Tags",size:20,conjunction:!1},language:{title:"Language",size:20,conjunction:!1}},searchableFields:["name","title","description","tags"]}),t=Object(n.useState)({results:e.qdb,tags:a.search({per_page:100}).data.aggregations.tags,language:a.search({per_page:100}).data.aggregations.language}),l=t[0],c=t[1],s=Object(n.useState)({}),i=s[0],u=s[1],d=Object(n.useState)(""),h=d[0],p=d[1],f=function(e,a){var t=[];e.forEach((function(e,n){t.push(n.slice().replace(a,""))}));var n=JSON.parse(JSON.stringify(i));n[a]=t,b(h,n),u(n)},b=function(e,t){var n=[];void 0!==t.tags&&(n=t.tags.slice());var r=[];void 0!==t.language&&(r=t.language.slice());var l={per_page:100,sort:"name_asc",query:e,filters:{tags:n,language:r}},s=a.search(l);c({results:s.data.items,tags:s.data.aggregations.tags,language:s.data.aggregations.language})};return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("div",{className:"filler"}),r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search-facets"},r.a.createElement(v,{tags:l.language,onChange:function(e){f(e,"language")},title:"LANGUAGE",prefix:"language"}),r.a.createElement(v,{tags:l.tags,onChange:function(e){f(e,"tags")},title:"TAGS",prefix:"tags"})),r.a.createElement("div",{className:"search-input"},r.a.createElement("div",{className:"search-field"},r.a.createElement(m.a,{id:"standard-basic",label:"Search for queries...",variant:"outlined",margin:"normal",fullWidth:!0,onChange:function(e){b(e.target.value,i),p(e.target.value)}})),r.a.createElement("div",{className:"search-results"},r.a.createElement(E,{results:l.results})))))};a.default=function(){var e=Object(c.default)().siteConfig,a=void 0===e?{}:e;return r.a.createElement(l.a,{title:""+a.title,description:"Joern Query Database"},r.a.createElement("main",null,r.a.createElement("section",{className:"search-section"},r.a.createElement(p,null))))}}}]);