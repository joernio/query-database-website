(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=(t(80),t(89)),l=(t(82),t(22)),s=(t(83),t(74),t(75),t(124)),u=t.n(s);function i(e){var a=e.code,t=e.language;return Object(n.useEffect)((function(){u.a.highlightAll()}),[]),r.a.createElement("div",{className:"code"},r.a.createElement("pre",null,r.a.createElement("code",{className:"language-"+t},a)))}var m=t(92),o=t(125),g=function(e){var a=e.name,t=e.label,n=e.isChecked,c=void 0!==n&&n,l=e.onChange;return r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:a,checked:c,onChange:l}),t))},d=function(e){var a=e.tags,t=e.onChange,c=Object(n.useState)(new Map),l=c[0],s=c[1],u=function(e){var a=e.target.name,n=e.target.checked,r=new Map(l);n?r.set(a,a.replace("tags-","")):r.delete(a),s(r),t(r)},i=a.buckets.map((function(e){return r.a.createElement(g,{name:"tags-"+e.key,label:e.key+" - "+e.doc_count,isChecked:l.get("tags-"+e.key),onChange:u})}));return r.a.createElement("div",null,r.a.createElement("div",null,"TAGS"),i)},h=function(e){var a=e.results.map((function(e){return r.a.createElement("div",{className:"search-result"},r.a.createElement("div",null,r.a.createElement("span",{className:"search-result-name"},e.name)),r.a.createElement("div",null,r.a.createElement("h4",null,e.title),r.a.createElement("p",null,e.description),"CPGQL Query:",r.a.createElement(i,{language:"js",code:e.traversalAsString})),r.a.createElement("div",null,r.a.createElement("span",{className:"search-result-author"},"author: ",e.author)),r.a.createElement("div",null,r.a.createElement("span",{className:"search-result-tags"},"tags: ",e.tags.join(","))))}));return r.a.createElement("div",null,a)},E=function(){var e=Object(m.usePluginData)("staticcode"),a=o(e.qdb,{sortings:{name_asc:{field:"name",order:"asc"}},aggregations:{tags:{title:"Tags",size:20}},searchableFields:["name","title","description","tags"]}),t=Object(n.useState)(e.qdb),c=t[0],l=t[1],s=Object(n.useState)(a.search({per_page:100}).data.aggregations.tags),u=s[0],i=s[1],g=Object(n.useState)([]),E=g[0],v=g[1],p=Object(n.useState)(""),f=p[0],b=p[1],k=function(e,t){var n={per_page:100,sort:"name_asc",query:e};t.length>0&&(n.filters={tags:t});var r=a.search(n),c=r.data.aggregations.tags;i(c);var s=r.data.items;l(s)};return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search-facets"},r.a.createElement(d,{tags:u,onChange:function(e){var a=[].concat(e.values());k(f,a),v(a)}})),r.a.createElement("div",{className:"search-input"},r.a.createElement("input",{className:"search",placeholder:"Search for queries...",onChange:function(e){k(e.target.value,E),b(e.target.value)}}),r.a.createElement("hr",null),r.a.createElement(h,{results:c})))};r.a.Fragment,r.a.Fragment,r.a.Fragment;a.default=function(){var e=Object(l.default)().siteConfig,a=void 0===e?{}:e;return r.a.createElement(c.a,{title:""+a.title,description:"Joern Query Database"},r.a.createElement("main",null,r.a.createElement("section",{className:"search-section"},r.a.createElement(E,null))))}}}]);