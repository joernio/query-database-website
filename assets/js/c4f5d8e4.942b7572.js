(self.webpackChunkjqdb_website=self.webpackChunkjqdb_website||[]).push([[195],{9405:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return S}});var n=t(7294),l=t(4314),r=(t(6742),t(2263)),c=(t(4996),t(5020));function s(e){var a=e.highlightedCode;return n.createElement("div",{className:"code"},n.createElement("pre",null,n.createElement("code",null,(0,c.ZP)(a))))}var i=t(8084),m=t(282),u=t(8463),g=t(895),o=t(1120),d=t(6019),h=t(3711),E=t(6562),v=t(6546),p=t(2880),f=t(2727),N=(0,o.Z)((function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3),width:"100%"}}})),b=function(e){var a=e.filters,t=e.onChange,l={language:a.language.reduce((function(e,a){var t;return Object.assign({},e,((t={})[a]=!1,t))}),{}),tags:a.tags.reduce((function(e,a){var t;return Object.assign({},e,((t={})[a]=!1,t))}),{})},r=N(),c=n.useState(l),s=c[0],i=c[1],m=s.tags,u=s.language,g=function(e){var a,n={language:s.language,tags:Object.assign({},s.tags,(a={},a[e.target.name]=e.target.checked,a))};t(n),i(n)},o=function(e){var a,n={tags:s.tags,language:Object.assign({},s.language,(a={},a[e.target.name]=e.target.checked,a))};t(n),i(n)};return n.createElement("div",null,n.createElement(h.Z,{component:"fieldset",className:r.formControl},n.createElement(d.Z,{component:"legend"},n.createElement("h3",null,"Language")),n.createElement(E.Z,null,Object.entries(l.language).map((function(e){return n.createElement(v.Z,{key:e[0],control:n.createElement(p.Z,{checked:u[e[0]],onChange:o,name:e[0]}),label:e[0]})})))),n.createElement(h.Z,{component:"fieldset",className:r.formControl},n.createElement(d.Z,{component:"legend"},n.createElement("h3",null,"Tags")),n.createElement(E.Z,null,Object.entries(l.tags).map((function(e){return n.createElement(v.Z,{key:e[0],control:n.createElement(p.Z,{checked:m[e[0]],onChange:g,name:e[0]}),label:e[0]})})))))},C=function(e){var a=e.textAreaId,t="COPY TO CLIPBOARD",l=(0,n.useState)(t),r=l[0],c=l[1];return n.createElement("div",null,n.createElement(m.Z,{variant:"contained",color:"primary",className:"search-result-copy",onClick:function(e){return n=a,(l=document.querySelector("#"+n)).classList.remove("hidden"),l.select(),document.execCommand("copy"),c("COPIED!"),l.classList.add("hidden"),void setTimeout((function(){c(t)}),1e3);var n,l}},r))},y=function(e){var a=e.positiveExample,t=e.negativeExample,l="SHOW MATCHING EXAMPLES",r=(0,n.useState)(l),c=r[0],i=r[1],u=(0,n.useState)(!0),g=u[0],o=u[1];return n.createElement("div",{className:"search-matching-examples"},n.createElement("div",{className:"search-matching-examples-btns"},n.createElement(m.Z,{className:"btn-matching-examples",variant:"contained",onClick:function(e){o(!g),i(g?"HIDE MATCHING EXAMPLES":l)}},c)),!g&&n.createElement("div",{className:"search-matching-examples-code"},a&&n.createElement("div",{className:"search-matching-examples-code-first"},n.createElement("span",null,"the query matches:"),n.createElement(s,{language:"java",highlightedCode:a})),t&&n.createElement("div",{className:"search-matching-examples-code-second"},n.createElement("span",null,"the query does not match:"),n.createElement(s,{language:"java",highlightedCode:t}))))},k=function(e){var a=e.results.map((function(e){var a=e.positiveExampleHighlighted||e.negativeExampleHighlighted;return n.createElement(u.Z,{className:"main-card mdc-elevation--z10",key:e.name},n.createElement("div",{className:"search-result"},n.createElement("div",null,n.createElement("h2",null,n.createElement("span",{className:"search-result-name"},e.name))),n.createElement("div",null,n.createElement("h4",null,e.title),n.createElement("p",null,e.description),"CPGQL Query:",n.createElement(s,{language:"js",highlightedCode:e.highlightedTraversal}),n.createElement("textarea",{readOnly:!0,className:"hidden",value:e.formattedTraversal,id:e.name})),n.createElement("div",null,n.createElement("span",{className:"search-result-author"},"author: ",e.author)),n.createElement("div",null,n.createElement("span",{className:"search-result-tags"},"tags: ",e.tags.join(","))),n.createElement(C,{textAreaId:e.name}),a&&n.createElement(y,{positiveExample:e.positiveExampleHighlighted,negativeExample:e.negativeExampleHighlighted})))}));return n.createElement("div",null,a)},x=function(){var e=(0,i.usePluginData)("staticcode"),a=f(e.qdb,{sortings:{name_asc:{field:"name",order:"asc"}},aggregations:{tags:{title:"Tags",size:20,conjunction:!1},language:{title:"Language",size:20,conjunction:!1}},searchableFields:["name","title","description","tags"]}),t=a.search({per_page:100,sort:"name_asc"}).data,l=t.aggregations,r={language:l.language.buckets.map((function(e){return e.key})),tags:l.tags.buckets.map((function(e){return e.key}))},c=(0,n.useState)({results:t.items}),s=c[0],m=c[1],u=(0,n.useState)({language:[],tags:[]}),o=u[0],d=u[1],h=(0,n.useState)(""),E=h[0],v=h[1],p=function(e,t){var n={per_page:100,sort:"name_asc",filters:t};void 0!==e&&e.length>0&&(n.query=e);var l=a.search(n);m({results:l.data.items})};return n.createElement("div",{className:"search-wrapper"},n.createElement("div",{className:"filler"}),n.createElement("div",{className:"search"},n.createElement("div",{className:"search-facets"},n.createElement(b,{filters:r,onChange:function(e){var a={tags:Object.keys(e.tags).filter((function(a){return e.tags[a]})),language:Object.keys(e.language).filter((function(a){return e.language[a]}))};d(a),p(E,a)}})),n.createElement("div",{className:"search-input"},n.createElement("div",{className:"search-field"},n.createElement(g.Z,{id:"standard-basic",label:"Search for queries...",variant:"outlined",margin:"normal",fullWidth:!0,color:"primary",onChange:function(e){var a=e.target.value.slice(0);p(a,o),v(a)}})),n.createElement("div",{className:"search-results"},n.createElement(k,{results:s.results})))))},Z=t(1302),j=t(3457),O=(0,Z.Z)({palette:{type:"dark",primary:{main:"#4ec001"},secondary:{main:"#4ec001"}}});var S=function(){var e=(0,r.default)().siteConfig,a=void 0===e?{}:e;return n.createElement(j.Z,{theme:O},n.createElement(l.Z,{title:""+a.title,description:"Joern Query Database"},n.createElement("main",null,n.createElement("section",{className:"search-section"},n.createElement(x,null)))))}}}]);